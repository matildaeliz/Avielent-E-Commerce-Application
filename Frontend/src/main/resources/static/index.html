<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Avielent E-Commerce | Login</title>
    <link rel="stylesheet" type="text/css" href="Login.css">
</head>
<body>
<img id="logo" src="LOGO.png">
<H5 id="brandName">AVIELENT E-COMMERCE</H5>
<div class="LoginArea">
    <div class="inner-LoginArea">
        <br><label id="UsernameText">Username</label></br>
        <input id="usernameField">
        <br> <label id="PasswordText">Password</label> </br>
        <input type="password" id="passwordField">

        <button id="LoginButton">Login</button>
        <button id="SignupButton">SignUp</button>
        </div>
    </div>

</div>
</body>


<script id="GoSignUpPage-Script">
function GoSignUpPage(){
window.location.href="SignUpPage.html"
}
document.getElementById("SignupButton").addEventListener("click",GoSignUpPage)

</script>

<script id="Login-Script">
    function Login(){
      var username = document.getElementById("usernameField").value
      var password = document.getElementById("passwordField").value

        var userResponse = {
            username: username,
            password: password
        };
      var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://localhost:9000/user/login");
      xhr.setRequestHeader("Content-Type", "application/json");


      xhr.onreadystatechange = function (){
          if(xhr.readyState === 4){
              if(xhr.status === 200){
                  var responsText = xhr.responseText;
                  console.log("Answer: ", responsText)
                  window.location.href="MainPage.html"
              }else{
                  console.log("Answer: ", "Wrong Username or Password")
                  alert("Wrong Username or Password");
              }
          }
      }
      xhr.send(JSON.stringify(userResponse));
    }
document.getElementById("LoginButton").addEventListener("click",Login)
</script>
</html>